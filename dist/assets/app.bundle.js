!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/assets",t(t.s=27)}([function(e,t,n){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],c=o[3],d={css:a,media:s,sourceMap:c};n[i]?n[i].parts.push(d):t.push(n[i]={id:i,parts:[d]})}return t}function o(e,t){var n=h(),r=x[x.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),x.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=x.indexOf(e);t>=0&&x.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function c(e,t){var n,r,o;if(t.singleton){var c=v++;n=g||(g=a(t)),r=d.bind(null,n,c,!1),o=d.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=l.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=u.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function d(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function u(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function l(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,x=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var i=[],a=0;a<o.length;a++){var s=o[a],c=f[s.id];c.refs--,i.push(c)}if(e){var d=r(e);n(d,t)}for(var a=0;a<i.length;a++){var c=i[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete f[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewRenderer={initView:function(e){for(;document.body.firstChild;)document.body.removeChild(document.body.firstChild);var t=document.createElement("div");return t.className=e,document.body.appendChild(t),t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=r(o),a=n(8),s=r(a),c=n(4),d=r(c);n(20),t.default={Create:function(){return Object.assign(Object.create(null),this.methods)},methods:{init:function(){var e=this;this.showSearchView(),window.onpopstate=function(){e.showSearchView()}},showSearchView:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{noResults:!1};this.route("search");var n=i.default.View();n.render(t),n.focusInput(),n.onSearch(function(t){e.doSearch(t)})},showResultsView:function(e){this.route("results"),s.default.View().render(e)},doSearch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d.default.Create().search(t).then(function(t){t.length>0?e.showResultsView(t):e.showSearchView({noResults:!0})}).catch(function(e){console.log("error: "+e)})},route:function(e){history.pushState(null,null,"/"+e+"/")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=r(i);t.default={Create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.assign(Object.create({data:e}),{},this.methods)},methods:{models:[],search:function(e){var t=this,n=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");return fetch(n+"/api/search/"+e).then(function(e){return e.json()}).then(function(e){return t.populate(e),t.models}).catch(function(e){console.log("parsing failed",e)})},populate:function(e){var t=this;e.result_count>0&&e.listing.forEach(function(e){t.add(e)})},add:function(e){var t=this.models;this.models=[].concat(o(t),[a.default.Model(e)])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.default={Model:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{num_bedrooms:"",agent_address:"",property_type:"",description:"",agent_postcode:"",details_url:"",price:"",agent_name:"",agent_logo:"",agent_phone:"",image_url:""};return Object.assign(Object.create({data:e}),{currencyFormatter:r.currencyFormatterMixin,titleComposer:r.propertyTitleComposerMixin,agentAddressComposer:r.agentAddressComposerMixin,phoneNumberFormatter:r.phoneNumberFormatterMixin},this.methods)},methods:{getData:function(){return{info:{title:this.titleComposer.compose(this.data.num_bedrooms,this.data.property_type),description:this.data.description,price:this.currencyFormatter.format(this.data.price)},agent:{address:this.agentAddressComposer.compose(this.data.agent_address,this.data.agent_postcode),name:this.data.agent_name,logoUrl:this.data.agent_logo,phone:this.phoneNumberFormatter.format(this.data.agent_phone)},image:{imageUrl:this.data.image_url}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.agentAddressComposerMixin={compose:function(e,t){return e&&t?e+", "+t:"invalid data"}},t.currencyFormatterMixin={format:function(e){return(parseInt(e)||0).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}},t.propertyTitleComposerMixin={compose:function(e,t){return e&&t?e+" bedroom "+t+" for sale":"invalid data"}},t.phoneNumberFormatterMixin={format:function(e){return e&&e.length>0?"T: "+e:"invalid data"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=r(o),a=n(10),s=r(a),c=n(11),d=r(c),u=n(21),l=r(u);t.default={Create:function(e){return Object.assign(Object.create({data:e}),{InfoComponent:i.default,AgentComponent:s.default,ImageComponent:d.default},this.methods)},methods:{className:"ItemView",render:function(){var e=document.createElement("div");return e.className=l.default[this.className],e.setAttribute("data-selector","Item"),e.tabIndex=1,e.appendChild(this.renderImage()),e.appendChild(this.renderInfo()),e.appendChild(this.renderAgent()),e},renderInfo:function(){return this.InfoComponent.render(this.data.info)},renderAgent:function(){return this.AgentComponent.render(this.data.agent)},renderImage:function(){return this.ImageComponent.render(this.data.image)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=r(o),a=n(2),s=n(22),c=r(s);t.default={View:function(e){return Object.assign(Object.create({data:e}),a.ViewRenderer,this.methods)},methods:{className:"ResultsPage",template:function(e){return'<span class="'+c.default[this.className+"-result_count"]+'" >'+e+" results found</span>"},render:function(e){var t=this.initView(c.default[this.className]),n=document.createElement("div");n.innerHTML=this.template(e.length),t.appendChild(n);var r=document.createElement("div");t.appendChild(r),e.forEach(function(e){var t=i.default.Create(e.getData()),n=t.render();r.appendChild(n)})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(23),a=r(i);t.default={View:function(e){return Object.assign(Object.create({options:e}),o.ViewRenderer,this.methods)},methods:{className:"SearchPage",template:function(e){var t=void 0;return t=e.noResults?'<h1 id="search-title">No results found</h1><span class="'+a.default[this.className+"-subtitle"]+'">Enter another location and search again</span>':'<h1 id="search-title">Search for houses and flats for sale across the UK</h1>',t+('\n                <form class="'+a.default[this.className+"-searchForm"]+'" id="search-form">\n                    <input class="'+a.default[this.className+"-input"]+'" type="text" id="search-input"/>\n                    <button class="'+a.default[this.className+"-btn"]+'" type="submit" id="search-btn">Search</button>\n                </form>\n                ')},render:function(e){var t=this.initView(a.default[this.className]);t.innerHTML=this.template(e),document.body.appendChild(t)},focusInput:function(){document.getElementById("search-input").focus()},onSearch:function(e){document.getElementById("search-form").addEventListener("submit",function(t){t.preventDefault();var n=document.getElementById("search-input").value;e(n)},!1)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=r(o);t.default={render:function(e){var t="AgentComponent",n='<div data-selector="AgentComponent" class="'+i.default[t+"-wrapper"]+'">\n                <figure><img src="'+e.logoUrl+'" /></figure>\n                <div>'+e.name+"</div>\n                <div>"+e.address+"</div>\n                <div>"+e.phone+"</div>\n            </div>",r=document.createElement("div");return r.className=i.default[t],r.innerHTML=n,r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),i=r(o);t.default={render:function(e){var t="ImageComponent",n='<img class="'+i.default[t+"-image"]+'" src="'+e.imageUrl+'" />',r=document.createElement("figure");return r.innerHTML=n,r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),i=r(o);t.default={render:function(e){var t="InfoComponent",n='<div class="'+i.default[t+"-name"]+'">'+e.title+'</div>\n             <div class="'+i.default[t+"-price"]+'">\n                <span itemprop="priceCurrency" content="GBP">£</span>\n                <span itemprop="price" content="'+e.price+'">'+e.price+'</span>\n             </div>\n             <div class="'+i.default[t+"-description"]+'">'+e.description+"</div>\n        ",r=document.createElement("div");return r.className=i.default[t],r.innerHTML=n,r.setAttribute("data-selector","InfoComponent"),r}}},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,"html{font-family:Droid Sans,sans-serif;font-size:100%}@media only screen and (min-width:1200px){html{font-size:120%}}body{margin:0;color:#303030}@media only screen and (min-width:0) and (max-width:768px){body{padding:16px}}@media only screen and (min-width:768px) and (max-width:1200px){body{padding:24px}}@media only screen and (min-width:1200px){body{padding:32px}}h1{margin:0;font-weight:400;font-size:1.3rem}button{cursor:pointer}figure{margin:0}",""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".ItemView--UV13A{display:flex;flex-basis:100%;flex-flow:row wrap}@media only screen and (min-width:0) and (max-width:768px){.ItemView--UV13A{margin:16px -8px}.ItemView--UV13A>*{flex:1 1 0;flex-basis:calc(100% - 32px);min-width:calc(100% - 32px);margin:8px}}@media only screen and (min-width:768px) and (max-width:1200px){.ItemView--UV13A{margin:24px -12px}.ItemView--UV13A>*{margin:12px}.ItemView--UV13A>:first-child,.ItemView--UV13A>:nth-child(2){flex:1 1 0;flex-basis:calc(50% - 32px);min-width:calc(50% - 32px)}.ItemView--UV13A>:nth-child(3){flex:1 1 0;flex-basis:calc(100% - 32px);min-width:calc(100% - 32px)}}@media only screen and (min-width:1200px){.ItemView--UV13A{margin:32px -16px}.ItemView--UV13A>*{margin:16px}.ItemView--UV13A>:first-child,.ItemView--UV13A>:nth-child(2){flex:1 1 0;flex-basis:calc(40% - 32px);min-width:calc(40% - 32px)}.ItemView--UV13A>:nth-child(3){flex:1 1 0;flex-basis:calc(20% - 32px);min-width:calc(20% - 32px)}}",""]),t.locals={ItemView:"ItemView--UV13A"}},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".ResultsPage--1X6c9{max-width:1280px}.ResultsPage-result_count--2gVE_{font-size:.8rem;color:#61635f}",""]),t.locals={ResultsPage:"ResultsPage--1X6c9","ResultsPage-result_count":"ResultsPage-result_count--2gVE_"}},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".SearchPage-searchForm--Uu3ml{display:flex;width:40%;margin-top:16px}@media only screen and (min-width:0) and (max-width:768px){.SearchPage-searchForm--Uu3ml{width:100%}}.SearchPage-btn--2fV75{flex:0 0 auto;margin-left:8px;border-radius:0;background-color:#e4e4e4;border:1px solid #aaa}.SearchPage-input--S8KOA{flex:1 1 auto;padding:8px;border:1px solid #aaa}.SearchPage-subtitle--1qJXU{font-size:.8rem;color:#61635f}",""]),t.locals={"SearchPage-searchForm":"SearchPage-searchForm--Uu3ml","SearchPage-btn":"SearchPage-btn--2fV75","SearchPage-input":"SearchPage-input--S8KOA","SearchPage-subtitle":"SearchPage-subtitle--1qJXU"}},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".AgentComponent--19InO{font-size:.7rem}.AgentComponent-wrapper--rmfwe{display:flex;flex-direction:column;color:#61635f;background:#e4e4e4;padding:4px}@media only screen and (min-width:0) and (max-width:768px){.AgentComponent-wrapper--rmfwe>*{margin-bottom:8px}}@media only screen and (min-width:768px) and (max-width:1200px){.AgentComponent-wrapper--rmfwe{flex-direction:row;align-items:center}.AgentComponent-wrapper--rmfwe>*{margin-right:16px}}@media only screen and (min-width:1200px){.AgentComponent-wrapper--rmfwe>*{margin-bottom:8px}}.AgentComponent-address--1MeyU,.AgentComponent-name--2WQCV{color:red}",""]),t.locals={AgentComponent:"AgentComponent--19InO","AgentComponent-wrapper":"AgentComponent-wrapper--rmfwe","AgentComponent-name":"AgentComponent-name--2WQCV","AgentComponent-address":"AgentComponent-address--1MeyU"}},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".ImageComponent-image--3iIfF{width:100%;max-width:100%;border:1px solid #aaa}",""]),t.locals={"ImageComponent-image":"ImageComponent-image--3iIfF"}},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".InfoComponent--1WW2d{margin:0}.InfoComponent-name--1_Hl1{font-size:1.1rem}.InfoComponent-description--2avdw{font-size:.9rem;color:#61635f}.InfoComponent-price--cxhBE{font-size:1.4rem;color:#f53900;margin:8px 0}",""]),t.locals={InfoComponent:"InfoComponent--1WW2d","InfoComponent-name":"InfoComponent-name--1_Hl1","InfoComponent-description":"InfoComponent-description--2avdw","InfoComponent-price":"InfoComponent-price--cxhBE"}},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(17);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(18);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(19);"string"==typeof r&&(r=[[e.i,r,""]]);n(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(3),i=r(o);window.onload=function(){i.default.Create().init()}}]);
//# sourceMappingURL=app.bundle.js.map